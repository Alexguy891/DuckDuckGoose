const babel = require("@babel/core");
const paths = require("./paths");
// const babel = require("./babel");

const build = function() {
  const code = `class User {
  static TYPE = "User";
  constructor({ firstName = "", lastName = "" }) {
    this.firstName = firstName;
    this.lastName = lastName;
  }
  hello() {
    console.log(\`Hello \${this.firstName} \${this.lastName}\`);
  }
}
export { User };
`;
  const result = babel.transform(code, {
    plugins: [
      paths.plugins.proposalClassProperties,
      paths.plugins.proposalObjectRestSpread,
      paths.plugins.transformRuntime
    ],
    presets: [["@babel/preset-env", { targets: { node: "6.10" } }]]
  });
  console.log(result.code);
  // const options = {
  //   plugins: paths.plugins.transformRuntime
  // };
  // babel(options);
  // babel();
};

module.exports = build;
