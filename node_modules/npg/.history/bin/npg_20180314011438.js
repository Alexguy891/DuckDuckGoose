#!/usr/bin/env node
const program = require("commander");

const create = require("../lib/create");
const build = require("../lib/build");
const start = require("../lib/start");

program
  .command("create [name]")
  .alias("c")
  .option("-v, --version [value]", "Target Node version")
  .description("Create a new package")
  .action(({ name = "." }) => {
    const version = cmd.version || process.version.replace("v", "");
    create({ name, version });
  });

const b = program
  .command("build")
  .alias("b")
  .description("Build a package")
  .option("-v, --version [value]", "Target Node version")
  .action(cmd => {
    const version = cmd.version || process.version.replace("v", "");
    build({ version });
  });

program
  .command("start")
  .alias("s")
  .description("Start a package and rebuild on every change")
  .action(cmd => {
    start();
  });

program.parse(process.argv);
