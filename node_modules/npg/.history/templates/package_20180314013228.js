const path = require("path");
const paths = require("../lib/paths");

module.exports = options => {
  const npgVersion = require(path.resolve(paths.npg.root, "package.json"))
    .version;
  const packageJson = {
    name: options.pkgName,
    version: "0.1.0",
    description: "Package created with NPG (Node Package Generator)",
    main: "dist/index.js",
    scripts: {
      build: `npg build -v ${options.nodeVersion}`,
      start: "npg start"
    },
    devDependencies: {
      npg: `file:${paths.npg.root}`
    },
    dependencies: {
      "@babel/runtime": "^7.0.0-beta.40"
    }
  };
  return JSON.stringify(packageJson, null, "  ") + "\n";
};
