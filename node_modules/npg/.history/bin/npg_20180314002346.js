#!/usr/bin/env node
const program = require("commander");

program
  .command("create [name]")
  .alias("c")
  .description("Create a new package")
  .action(function(name, options) {
    const create = require("../lib/create");
    create(name);
  });

const b = program
  .command("build")
  .alias("b")
  .description("Build a package")
  .option("-v, --version [value]", "Target node version")
  .option("-s, --silent [value]", "Silent mode")
  .action(function(cmd) {
    console.dir(cmd.silent);
    console.dir(cmd.version);
    const build = require("../lib/build");
    build();
  });

program
  .command("start")
  .alias("s")
  .description("Start a package and rebuild on every change")
  .action(function(cmd, options) {
    const start = require("../lib/start");
    start();
  });

program.parse(process.argv);
